## task 1
library(readr)
f2016wireless <- read_delim("./data/wireless/2016FallSemWireless.csv",
"\t", escape_double = FALSE, trim_ws = TRUE)
## task 2
f2016wireless[f2016wireless == '-']  <- NA
## task 3
ezDir <- "./data/ezproxy/"
csvList <- list.files(ezDir, pattern="*.csv")
for (i in 1 : length(csvList)) {
dataname <- strsplit(csvList[i], "_|\\.")[[1]][[1]]
new_df <- read.csv(paste(ezDir, csvList[i], sep=""), header=FALSE, col.names = c("uuid", "campus", "datetime", "session", "ipSubnet"))
new_df <- new_df[c("uuid", "session", "campus", "datetime", "ipSubnet")]
assign(dataname, new_df)
}
tsvList <- list.files(ezDir, pattern="*.tsv")
for (i in 1 : length(tsvList)) {
dataname <- strsplit(tsvList[i], "_|\\.")[[1]][[1]]
assign(dataname, read.delim(paste(ezDir, tsvList[i], sep=""), sep="\t", header=TRUE))
}
# combine into one single data frame
ccl2016 <- do.call(rbind, lapply(ls(patt="ccl"), get))
spu2016 <- do.call(rbind, lapply(ls(patt="spu"), get))
# clean uuid
ccl2016$uuid <- as.character(ccl2016$uuid)
# clean datetime -> start, end
library(tidyr)
ccl2016 <- separate(ccl2016, datetime, into=c("start", "end"), sep=19) # 19 is counted
# convert into time object
library(anytime)
start_datetime <- anytime(ccl2016$start)
end_datetime <- anytime(ccl2016$end)
View(ccl2016)
summary(ccl2016)
View(spu201601)
View(ccl2016)
View(ccl2016)
View(ccl201606)
View(spu2016)
ccl2016[session="GhAtoVYJxmtAa0a"]
ccl2016[ccl2016$session="GhAtoVYJxmtAa0a"]
ccl2016[ccl2016$session="GhAtoVYJxmtAa0a",]
ccl2016[ccl2016$session == "GhAtoVYJxmtAa0a",]
as.numeric(as.POSIXct("2013-09-16 2:13:46 EST"))
as.numeric(as.POSIXct("2013-09-16 2:13:46"))
as.POSIXct("2013-09-16 2:13:46")
?as.POSIXct
as.numeric(as.POSIXct("2013-09-16 2:13:46"), tz = "PST")
as.numeric(as.POSIXct("2013-09-16 2:13:46"), tz = "PTT")
as.numeric(as.POSIXct("2013-09-16 2:13:46"), tz = "PT")
as.numeric(as.POSIXct("2013-09-16 2:13:46"), tz = "CT")
as.numeric(as.POSIXct("2013-09-16 2:13:46"), tz = "ETC/GMT-7")
as.numeric(as.POSIXct("2013-09-16 2:13:46", tz = "ETC/GMT-7"))
as.numeric(as.POSIXct("2013-09-16 2:13:46", tz = "PT"))
as.numeric(as.POSIXct("2013-09-16 2:13:46", tz = "ETC/GMT-7"))
as.numeric(as.POSIXct("2013-09-16 2:13:46", tz = "ETC/GMT-5"))
start_datetime_ts <- as.numeric(as.POSIXct(start_datetime, tz = "ETC/GMT-7"))
start_datetime_ts
as.numeric(as.POSIXct(NA, tz = "ETC/GMT-5"))
View(ccl2016)
View(spu2016)
spu2016[spu2016$session == "EJy8tCV0NvqLY2g",]
spu2016[spu2016$session == "",]
spu2016[spu2016$session == "TOHgTseFbWljsmU",]
View(spu201605)
View(f2016wireless)
View(f2016wireless)
dataname <- strsplit(csvList[i], "_|\\.")[[1]][[1]]
## task 1
library(readr)
f2016wireless <- read_delim("./data/wireless/2016FallSemWireless.csv",
"\t", escape_double = FALSE, trim_ws = TRUE)
## task 2
f2016wireless[f2016wireless == '-']  <- NA
## task 3
ezDir <- "./data/ezproxy/"
csvList <- list.files(ezDir, pattern="*.csv")
for (i in 1 : length(csvList)) {
dataname <- strsplit(csvList[i], "_|\\.")[[1]][[1]]
new_df <- read.csv(paste(ezDir, csvList[i], sep=""), header=FALSE, col.names = c("uuid", "campus", "datetime", "session", "ipSubnet"))
new_df <- new_df[c("uuid", "session", "campus", "datetime", "ipSubnet")]
assign(dataname, new_df)
}
tsvList <- list.files(ezDir, pattern="*.tsv")
for (i in 1 : length(tsvList)) {
dataname <- strsplit(tsvList[i], "_|\\.")[[1]][[1]]
assign(dataname, read.delim(paste(ezDir, tsvList[i], sep=""), sep="\t", header=TRUE))
}
# combine into one single data frame
ccl2016 <- do.call(rbind, lapply(ls(patt="ccl"), get))
spu2016 <- do.call(rbind, lapply(ls(patt="spu"), get))
# clean uuid
ccl2016$uuid <- as.character(ccl2016$uuid)
# clean datetime -> start, end
library(tidyr)
ccl2016 <- separate(ccl2016, datetime, into=c("start", "end"), sep=19) # 19 is counted
# convert into time object
library(anytime)
start_datetime <- anytime(ccl2016$start)
end_datetime <- anytime(ccl2016$end)
start_datetime_ts <- as.numeric(as.POSIXct(start_datetime, tz = "ETC/GMT-7"))
end_datetime_ts <- as.numeric(as.POSIXct(start_datetime, tz = "ETC/GMT-7"))
View(ccl2016)
View(ccl2016)
View(spu2016)
View(spu2016)
View(f2016wireless)
?merge
ezdata <- merge(ccl2016, spu2016, by = "session, all.y = TRUE")
ezdata <- merge(ccl2016, spu2016, by = "session", all.y = TRUE")
ezdata <- merge(ccl2016, spu2016, by = "session", all.y = "TRUE")
ezdata <- merge(ccl2016, spu2016, by = "session", all.y = TRUE)
View(ezdata)
ezdata <- merge(ccl2016, spu2016, by = "session", all.x = TRUE)
View(ezdata)
View(ccl2016)
ezdata$start_ts <- as.numeric(as.POSIXct(ezdata$start, tz = "ETC/GMT-7"))
ezdata$end_ts <- as.numeric(as.POSIXct(ezdata$end, tz = "ETC/GMT-7"))
View(ezdata)
ezdata$start_ts <- as.numeric(as.POSIXct(anytime(ezdata$start), tz = "ETC/GMT-7"))
ezdata$end_ts <- as.numeric(as.POSIXct(anytime(ezdata$end), tz = "ETC/GMT-7"))
View(ezdata)
